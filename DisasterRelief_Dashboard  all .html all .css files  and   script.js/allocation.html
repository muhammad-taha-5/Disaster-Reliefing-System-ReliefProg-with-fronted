<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ReliefPro | AI Allocation Engine</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>

    <aside class="sidebar">
        <div class="sidebar-logo">Relief<span>Pro</span></div>
        <ul class="nav-links">
            <li class="nav-item"><a href="index.html" class="nav-link"><i class="fas fa-th-large"></i> Dashboard</a>
            </li>
            <li class="nav-item"><a href="victims.html" class="nav-link"><i class="fas fa-users"></i> Victims</a></li>
            <li class="nav-item"><a href="inventory.html" class="nav-link"><i class="fas fa-boxes"></i> Inventory</a>
            </li>
            <li class="nav-item"><a href="allocation.html" class="nav-link active"><i class="fas fa-microchip"></i> AI
                    Allocation</a></li>
            <li class="nav-item"><a href="reports.html" class="nav-link"><i class="fas fa-chart-line"></i> Analytics</a>
            </li>
            <li class="nav-item"><a href="settings.html" class="nav-link"><i class="fas fa-cog"></i> Settings</a></li>
        </ul>
    </aside>

    <main class="main-area">
        <header style="margin-bottom: 40px;">
            <h1 style="font-family: 'Outfit'; font-size: 2.2rem;">Relief Allocation Engine</h1>
            <p style="color: var(--text-muted);">Neural matching system for rapid humanitarian response.</p>
        </header>

        <div class="charts-grid" style="grid-template-columns: 1fr 1fr;">
            <!-- ALLOCATION CONTROL PANEL -->
            <section class="table-wrapper" style="margin-top: 0; border-color: var(--primary);">
                <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 25px;">
                    <div
                        style="width: 40px; height: 40px; background: rgba(14, 165, 233, 0.1); border-radius: 10px; display: flex; align-items: center; justify-content: center;">
                        <i class="fas fa-brain" style="color: var(--primary);"></i>
                    </div>
                    <h3>Smart Matching System</h3>
                </div>

                <div class="form-group" style="background: transparent; border: none; padding: 0; max-width: 100%;">
                    <div style="margin-bottom: 20px;">
                        <label
                            style="display: block; color: var(--text-muted); font-size: 0.85rem; margin-bottom: 8px;">Select
                            Target Region</label>
                        <select class="input-field" style="margin-bottom: 0;">
                            <option>Sector Karachi-East (Priority 1)</option>
                            <option>Sector Lahore-North (Priority 2)</option>
                            <option>Sector Quetta-West (Priority 3)</option>
                        </select>
                    </div>

                    <div style="margin-bottom: 20px;">
                        <label
                            style="display: block; color: var(--text-muted); font-size: 0.85rem; margin-bottom: 8px;">Allocation
                            Strategy</label>
                        <select class="input-field" style="margin-bottom: 0;">
                            <option>High Priority - Critical Medical First</option>
                            <option>Balanced - Equal Resource Spread</option>
                            <option>Logistics First - Fastest Delivery</option>
                        </select>
                    </div>

                    <div style="margin-bottom: 30px;">
                        <label
                            style="display: block; color: var(--text-muted); font-size: 0.85rem; margin-bottom: 12px;">Automated
                            Priority Filtering</label>
                        <div style="display: flex; gap: 15px;">
                            <label style="color: var(--text-muted); font-size: 0.85rem;"><input type="checkbox" checked>
                                Score > 80</label>
                            <label style="color: var(--text-muted); font-size: 0.85rem;"><input type="checkbox" checked>
                                Medical Emergency</label>
                            <label style="color: var(--text-muted); font-size: 0.85rem;"><input type="checkbox"> Family
                                Size > 5</label>
                        </div>
                    </div>

                    <button class="btn-premium"
                        style="width: 100%; height: 55px; font-size: 1.1rem; display: flex; align-items: center; justify-content: center; gap: 12px;"
                        onclick="simulateAllocation()">
                        <i class="fas fa-bolt"></i> Run Smart Allocation
                    </button>
                </div>
            </section>

            <!-- LIVE STATUS MONITOR -->
            <section class="table-wrapper" style="margin-top: 0;">
                <h3>Allocation Status Monitor</h3>
                <div id="statusList" style="margin-top: 25px;">
                    <div style="text-align: center; color: var(--text-muted); padding: 50px 0;">
                        <i class="fas fa-robot" style="font-size: 3rem; margin-bottom: 15px; opacity: 0.3;"></i>
                        <p>Standby: Ready for Allocation Process</p>
                    </div>
                </div>
            </section>
        </div>

        <!-- RECENT ALLOCATION HISTORY -->
        <section class="table-wrapper">
            <h3>Recent Resource Transitions</h3>
            <table style="margin-top: 20px;">
                <thead>
                    <tr>
                        <th>TRANSACTION ID</th>
                        <th>VICTIM / SECTOR</th>
                        <th>RESOURCE</th>
                        <th>QTY</th>
                        <th>MATCH SCORE</th>
                        <th>STATUS</th>
                    </tr>
                </thead>
                <tbody id="allocationHistory">
                    <tr>
                        <td style="color: var(--text-muted);">#TX-9921</td>
                        <td><b>Area Karachi-East</b></td>
                        <td>Food Kits</td>
                        <td>400</td>
                        <td>98%</td>
                        <td><span class="status-pill pill-success">
                                <div class="dot"></div> Completed
                            </span></td>
                    </tr>
                    <tr>
                        <td style="color: var(--text-muted);">#TX-9918</td>
                        <td><b>Maria Batool</b></td>
                        <td>Medicine</td>
                        <td>02</td>
                        <td>94%</td>
                        <td><span class="status-pill pill-success">
                                <div class="dot"></div> Completed
                            </span></td>
                    </tr>
                    <tr>
                        <td style="color: var(--text-muted);">#TX-9915</td>
                        <td><b>Arsalan Khan</b></td>
                        <td>Medical Kit</td>
                        <td>01</td>
                        <td>89%</td>
                        <td><span class="status-pill pill-warning">
                                <div class="dot"></div> Processing
                            </span></td>
                    </tr>
                </tbody>
            </table>
        </section>
    </main>

    <script>
        function simulateAllocation() {
            const statusList = document.getElementById('statusList');
            const history = document.getElementById('allocationHistory');
            statusList.innerHTML = `<h4 style="margin-bottom:15px; color:var(--primary);">Processing Neural Match...</h4>`;

            const steps = [
                "Scanning Victim Database...",
                "Analyzing Priority Scores...",
                "Checking Inventory Availability...",
                "Calculating Optimization Path...",
                "Match Confirmed: Batch #AK-202"
            ];

            let i = 0;
            const interval = setInterval(() => {
                const step = document.createElement('div');
                step.style.padding = "12px";
                step.style.borderLeft = "2px solid var(--primary)";
                step.style.marginBottom = "8px";
                step.style.background = "rgba(255,255,255,0.03)";
                step.style.fontSize = "0.9rem";
                step.innerHTML = `<i class="fas fa-check-circle" style="color: var(--success); margin-right: 10px;"></i> ${steps[i]}`;
                statusList.appendChild(step);

                i++;
                if (i >= steps.length) {
                    clearInterval(interval);
                    // Add to history table
                    const newRow = history.insertRow(0);
                    newRow.style.animation = "fadeIn 0.5s ease-out";
                    newRow.innerHTML = `
                        <td style="color: var(--text-muted);">#TX-${Math.floor(Math.random() * 9000) + 1000}</td>
                        <td><b>New Batch Sector</b></td>
                        <td>Mixed Resources</td>
                        <td>120</td>
                        <td>99%</td>
                        <td><span class="status-pill pill-success"><div class="dot"></div> Success</span></td>
                    `;
                    alert("Smart Allocation Complete!\nResources have been reserved.");
                }
            }, 800);
        }
    </script>
</body>

</html>